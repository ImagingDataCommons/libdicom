# TODO

- pixeldata has length -1 ... we must parse this as a sequence, not as OB/OW

  maybe an implicit sequence?

  pyr level from dcmdump, DCM_3.dcm

	tag 7fe0,0010, vr OB, length -1 (pixel data)
	  tag fffe,e000, length 0 (bot)
	  tag fffe,e000, length 6460 (frame 1)
	  tag fffe,e000, length 6398 (frame 2)
	  ...
	tag fffe,e0dd, length 0 (sequence delimitation item)

  overview DCM_5.dcm

	tag 7fe0,010, vr OB, length 1655040 (pixeldata)

- rules for pixeldata

	- encapsulated trasfer syntax
		- little endian
		- explicit VR
	- pixeldata length == -1 means undefined value length
		- undefined length means encapsulated pixeldata
		- only applies to top-level pixeldata elements, so an 
		  encapsulated transfer syntax might have native sub 
		  images eg, icon sequence
	  length == 234234 for example means fixed length pixeldata 
	  	- defined length means native data
		- native is always little endian





- read metadata needs an "all" flag, or perhaps a set of stop tags?

- dcm-dump could call the parser with a set of print functions

  add a "-a" flag to print everything (inc. pixel data and 
  perframefunctionalgroupsequence etc.)

  expose parser in public API? it'd be tricky to bind to python


# asserts

- should the foreach funcs take two params (one for error)? are they used?

	nope, unused within libdicom


# Tips

- debug failing test with eg.

	CK_FORK=no CK_RUN_CASE=frame gdb ./check_dicom

- leak check

	CK_FORK=no valgrind --leak-check=full ./check_dicom

